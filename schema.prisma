datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  email  String @id @db.VarChar(256)
  userId String @unique @default(cuid()) @db.VarChar(64)

  name            String   @db.VarChar(128)
  createdAt       DateTime @default(now()) @db.DateTime(0)
  updatedAt       DateTime @updatedAt @db.DateTime(0)
  profileSrc      String?  @db.VarChar(128)
  profilePicS3Key String?  @db.VarChar(128)
  about           String?  @db.VarChar(256)
  profileViews    Int      @default(0) @db.UnsignedInt
  postViews       Int      @default(0) @db.UnsignedInt
  numFollowers    Int      @default(0) @db.UnsignedInt

  @@unique([email, userId])
  @@index([name])
  @@index([userId])
}